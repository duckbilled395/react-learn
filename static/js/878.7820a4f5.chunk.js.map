{"version":3,"file":"static/js/878.7820a4f5.chunk.js","mappings":"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","sources":["webpack://my-app/./src/components/Users/Users.module.css?b9d0","webpack://my-app/./src/components/common/Paginator/Paginator.module.css?6caa","components/common/Paginator/Paginator.jsx","components/Users/User.jsx","components/Users/Users.jsx","redux/users-selectors.js","components/Users/UsersContainer.jsx","hoc/withAuthRedirect.jsx"],"sourcesContent":["// extracted by mini-css-extract-plugin\nexport default {\"userPhoto\":\"Users_userPhoto__D6OaN\",\"selectedPage\":\"Users_selectedPage__EE2n-\",\"page\":\"Users_page__z0j06\"};","// extracted by mini-css-extract-plugin\nexport default {\"selectedPage\":\"Paginator_selectedPage__uet4B\",\"page\":\"Paginator_page__EDF+Y\",\"paginator\":\"Paginator_paginator__p1-Yp\",\"button\":\"Paginator_button__nLArG\"};","import React, {useState} from \"react\";\r\nimport styles from \"./Paginator.module.css\";\r\nimport {setCurrentPage} from \"../../../redux/users-reducer\";\r\n\r\nlet Paginator = ({totalItemsCount, pageSize, currentPage, onPageChanged, portionSize = 10, portionNumberFromState}) => {\r\n    // debugger\r\n    let pagesCount = Math.ceil(totalItemsCount / pageSize);\r\n\r\n    let pages = [];\r\n    for (let i = 1; i <= pagesCount; i++) {\r\n            pages.push(i);\r\n    }\r\n\r\n    let portionCount = Math.ceil(pagesCount / portionSize);\r\n    let [portionNumber, setPortionNumber] = useState(portionNumberFromState);\r\n    let leftPortionPageNumber = (portionNumber - 1) * portionSize + 1;\r\n    let rightPortionPageNumber = portionNumber * portionSize;\r\n\r\n    return (\r\n        <div className={styles.paginator}>\r\n            {portionNumber > 1 &&\r\n                <button className={styles.button} onClick={() => {setPortionNumber(portionNumber - 1)}}>Prev</button>}\r\n            {pages.filter(page => page >= leftPortionPageNumber && page <= rightPortionPageNumber)\r\n                .map(page => {\r\n                return <span\r\n                    className={currentPage === page\r\n                        ? styles.selectedPage\r\n                        : styles.page}\r\n                    onClick={(e) => {onPageChanged(page, portionNumber); }}\r\n                    key={page}>{page}\r\n                </span>\r\n            })}\r\n            {portionCount > portionNumber &&\r\n            <button className={styles.button} onClick={ () => { setPortionNumber(portionNumber + 1) } }>Next</button>}\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Paginator;","import React from \"react\";\r\nimport styles from \"./Users.module.css\";\r\nimport userPhoto from \"../../assets/images/user.png\";\r\nimport {NavLink} from \"react-router-dom\";\r\n\r\nlet User = ({user, followingInProgress, unfollow, follow}) => {\r\n\r\n    return (<div>\r\n                    <span>\r\n                        <div>\r\n                            <NavLink to={'/profile/' + user.id}>\r\n                                <img src={user.photos.small != null\r\n                                    ? user.photos.small\r\n                                    : userPhoto}\r\n                                     className={styles.userPhoto}\r\n                                     alt=\"users avatar\"/>\r\n                            </NavLink>\r\n                        </div>\r\n                        <div>\r\n                            {user.followed\r\n                                ? <button disabled={followingInProgress.some(id => id === user.id)}\r\n                                          onClick={() => {\r\n                                              unfollow(user.id)\r\n                                          }}>Unfollow</button>\r\n                                : <button disabled={followingInProgress.some(id => id === user.id)}\r\n                                          onClick={() => {\r\n                                              follow(user.id)\r\n                                          }}>Follow</button>}\r\n                        </div>\r\n                    </span>\r\n                    <span>\r\n                        <span>\r\n                            <div>{user.name}</div>\r\n                            <div>{user.status}</div>\r\n                        </span>\r\n                        <span>\r\n                            <div>{\"u.location.country\"}</div>\r\n                            <div>{\"u.location.city\"}</div>\r\n                        </span>\r\n                    </span>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default User;","import React from \"react\";\r\nimport styles from \"./Users.module.css\";\r\nimport Paginator from \"../common/Paginator/Paginator\";\r\nimport User from \"./User\";\r\n\r\nlet Users = ({currentPage, totalUsersCount, pageSize, onPageChanged, users, setCurrentPage, setPortionNumber, ...props}) => {\r\n// debugger\r\n    return (<div>\r\n        <Paginator currentPage={currentPage}\r\n                   onPageChanged={onPageChanged}\r\n                   totalItemsCount={totalUsersCount}\r\n                   pageSize={pageSize}\r\n                   portionNumberFromState={props.portionNumber}\r\n                   setCurrentPage={setCurrentPage}\r\n                   setPortionNumber={setPortionNumber}\r\n        />\r\n        <div>\r\n            {users.map(user => <User user={user}\r\n                                     followingInProgress={props.followingInProgress}\r\n                                     unfollow={props.unfollow}\r\n                                     follow={props.follow}\r\n                                     key={user.id}/>)}\r\n        </div>\r\n    </div>)\r\n}\r\n\r\nexport default Users;","export const getUsers = (state) => {\r\n    return state.usersPage.users\r\n}\r\n\r\nexport const getPageSize = (state) => {\r\n    return state.usersPage.pageSize\r\n}\r\n\r\nexport const getTotalUsersCount = (state) => {\r\n    return state.usersPage.totalUsersCount\r\n}\r\n\r\nexport const getCurrentPage = (state) => {\r\n    return state.usersPage.currentPage\r\n}\r\n\r\nexport const getIsFetching = (state) => {\r\n    return state.usersPage.isFetching\r\n}\r\n\r\nexport const getFollowingInProgress = (state) => {\r\n    return state.usersPage.followingInProgress\r\n}\r\n\r\nexport const getPortionNumber = (state) => {\r\n    return state.usersPage.portionNumber\r\n}\r\n","import React from \"react\";\r\nimport {connect} from \"react-redux\";\r\nimport {\r\n    follow,\r\n    setCurrentPage,\r\n    unfollow,\r\n    toggleFollowingProgress,\r\n    requestUsers, setPortionNumber\r\n} from \"../../redux/users-reducer\";\r\nimport Users from \"./Users\";\r\nimport Preloader from \"../common/Preloader/Preloader\";\r\nimport {withAuthRedirect} from \"../../hoc/withAuthRedirect\";\r\nimport {compose} from \"redux\";\r\nimport {\r\n    getCurrentPage,\r\n    getFollowingInProgress,\r\n    getIsFetching,\r\n    getPageSize, getPortionNumber,\r\n    getTotalUsersCount,\r\n    getUsers\r\n} from \"../../redux/users-selectors\";\r\n\r\nclass UsersContainer extends React.Component {\r\n\r\n    componentDidMount() {\r\n        const {currentPage, pageSize} = this.props\r\n        this.props.requestUsers(currentPage, pageSize);\r\n    }\r\n\r\n    onPageChanged = (pageNumber, portionNumber) => {\r\n        const {pageSize} = this.props\r\n        this.props.requestUsers(pageNumber, pageSize);\r\n        this.props.setPortionNumber(portionNumber)\r\n    }\r\n\r\n    render() {\r\n        return <>\r\n            {this.props.isFetching\r\n                ? <Preloader />\r\n                : <Users totalUsersCount={this.props.totalUsersCount}\r\n                         pageSize={this.props.pageSize}\r\n                         currentPage={this.props.currentPage}\r\n                         onPageChanged={this.onPageChanged}\r\n                         setCurrentPage={setCurrentPage}\r\n                         setPortionNumber={setPortionNumber}\r\n                         users={this.props.users}\r\n                         follow={this.props.follow}\r\n                         unfollow={this.props.unfollow}\r\n                         followingInProgress={this.props.followingInProgress}\r\n                         portionNumber={this.props.portionNumber}\r\n                />}\r\n        </>\r\n    }\r\n}\r\n\r\n// let mapStateToProps = (state) => {\r\n//     return {\r\n//         users: state.usersPage.users,\r\n//         pageSize: state.usersPage.pageSize,\r\n//         totalUsersCount: state.usersPage.totalUsersCount,\r\n//         currentPage: state.usersPage.currentPage,\r\n//         isFetching: state.usersPage.isFetching,\r\n//         followingInProgress: state.usersPage.followingInProgress\r\n//     }\r\n// }\r\n\r\nlet mapStateToProps = (state) => {\r\n    return {\r\n        users: getUsers(state),\r\n        pageSize: getPageSize(state),\r\n        totalUsersCount: getTotalUsersCount(state),\r\n        currentPage: getCurrentPage(state),\r\n        isFetching: getIsFetching(state),\r\n        followingInProgress: getFollowingInProgress(state),\r\n        portionNumber: getPortionNumber(state)\r\n    }\r\n}\r\n\r\n// let mapDispatchToProps = (dispatch) => {\r\n//     return {\r\n//         follow: (userId) => {\r\n//             dispatch(followAC(userId));\r\n//         },\r\n//         unfollow: (userId) => {\r\n//             dispatch(unfollowAC(userId));\r\n//         },\r\n//         setUsers: (users) => {\r\n//             dispatch(setUsersAC(users));\r\n//         },\r\n//         setCurrentPage: (pageNumber) => {\r\n//             dispatch(setCurrentPageAc(pageNumber));\r\n//         },\r\n//         setTotalUsersCount: (totalCount) => {\r\n//             dispatch(setUsersTotalCountAC(totalCount));\r\n//         },\r\n//         toggleIsFetching: (isFetching) => {\r\n//             dispatch(toggleIsFetchingAC(isFetching));\r\n//         }\r\n//     }\r\n// }\r\n\r\nexport default compose(\r\n    withAuthRedirect,\r\n    connect(mapStateToProps, {\r\n        follow,\r\n        unfollow,\r\n        setCurrentPage,\r\n        toggleFollowingProgress,\r\n        requestUsers,\r\n        setPortionNumber})\r\n)(UsersContainer)\r\n","import React, {Component} from \"react\";\r\nimport {Navigate} from \"react-router-dom\";\r\nimport {connect} from \"react-redux\";\r\n\r\nexport const withAuthRedirect = (Component) => {\r\n    let RedirectComponent = (props) => {\r\n        if (!props.isAuth) return <Navigate to={'/login/'} />\r\n        return <Component {...props} />\r\n    }\r\n    let mapStateToPropsForRedirect = (state) => ({\r\n        isAuth: state.auth.isAuth\r\n    });\r\n\r\n    let ConnetctedAuthRedirectComponent = connect(mapStateToPropsForRedirect)\r\n    (RedirectComponent);\r\n    return ConnetctedAuthRedirectComponent;\r\n}"],"names":["totalItemsCount","pageSize","currentPage","onPageChanged","portionSize","portionNumberFromState","pagesCount","Math","ceil","pages","i","push","portionCount","useState","portionNumber","setPortionNumber","leftPortionPageNumber","rightPortionPageNumber","className","styles","onClick","filter","page","map","e","user","followingInProgress","unfollow","follow","to","id","src","photos","small","userPhoto","alt","followed","disabled","some","name","status","totalUsersCount","users","setCurrentPage","props","getUsers","state","usersPage","getPageSize","getTotalUsersCount","getCurrentPage","getIsFetching","isFetching","getFollowingInProgress","getPortionNumber","UsersContainer","pageNumber","requestUsers","this","Preloader","React","compose","withAuthRedirect","connect","toggleFollowingProgress","Component","isAuth","auth"],"sourceRoot":""}